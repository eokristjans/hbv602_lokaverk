<%- include('header') -%>


<h1><%= title %></h1>

<form method="post" action="/login" autocomplete="off">
<!-- REITIRNIR VERÐA AÐ HEITA username OG password SVO passport.authenticate VIRKI.-->
  
  <div class="field<%= (locals.isInvalid('password', errors) || message)  ?  ' field--invalid' : '' %>">
    <label>Notendanafn: </label>
    <input type="text" name="username" id="username" value="<%= username %>" class="">
  </div>
  <div class="field<%= (locals.isInvalid('password', errors) || message) ?  ' field--invalid' : '' %>">
      <label>Lykilorð: </label>
      <input type="password" name="password" id="password" value="<%= password %>" class="">
  </div>
  
  <% if (errors.length > 0) { %> <!-- errors úr validation / sanitaztion -->
    <h2>Vandræði við innskráningu:</h2>
    <ul class="errors">
      <% errors.forEach((error) => { %>
        <li class="error"><label for="<%= error.param %>"><%= error.msg %></label></li>
      <% }); %>
    </ul>
  <% } %>
  
  <% if (message) { %> <!-- message frá passport.authenticate -->
    <h2>Vandræði við innskráningu:</h2>
    <ul class="errors">
      <li class="error"><%= message %></li>
    </ul>
  <% } %>

  <button>Innskrá</button>
</form>


<%- include('footer') -%>